<div ng-controller="portfolioController" ng-cloak class="ng-cloak">
	<div ng-show="authenticated">

	<h1>List of managed Portfolios</h1>

	<table ng-table="vm.tableParams" class="table" show-filter="true">
		<tr>
			<th>Portfolio Name</th>
			<th>Incorporation date</th>
			<th>Investment</th>
			<th>Valuation</th>
			<th>Yield</th>
			<th></th>
		</tr>

		<tr ng-repeat="portfolio in portfolios">
			<td>{{portfolio.label}}</td>
			<td>{{portfolio.incorporationDate | date}}</td>
			<td>{{portfolio.investment | currency : portfolio.currency : 2}}</td>
			<td>{{portfolio.valuation| currency : portfolio.currency : 2}}</td>
			<td>{{portfolio.valuation - portfolio.investment}}</td>
			<td>
				<a href="#/portfolio_detail">
				   <button class="btn" >
	          		<span class="glyphicon"></span>Details
	        		</button>
				</a>
			</td>
		</tr>
	</table>
	
	<div ng-class="alert" ng-show="stokkerError == 'unavailable'" >
		Portfolio valuations are not available if Stokker is not running!
	</div>
	
	</div>
</div>